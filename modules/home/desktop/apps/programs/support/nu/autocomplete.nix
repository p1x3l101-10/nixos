{ pkgs, lib, ... }:

let
  nu_scripts = pkgs.fetchFromGitHub {
    owner = "nushell";
    repo = "nu_scripts";
    rev = "c0eef9bb94eaf9d69f1cc27e2e1964fdb66fb24a";
    hash = "sha256-KfnxoyLY8F0jx6h/SGQb5hkTBHgaa0fktE1qM4BKTBc=";
  };
in {
  programs.nushell.extraConfig = builtins.concatStringsSep "\n" (
    (map
      (x: "source ${nu_scripts}/custom-completions/${x}/${x}-completions.nu")
      [
        "ack"
        "adb"
        "aerospace"
        "ani-cli"
        "as"
        "aws"
        "bat"
        "bitwarden-cli"
        "bmc"
        "btm"
        "composer"
        "croc"
        "curl"
        "dotnet"
        "eza"
        "fastboot"
        "flutter"
        "fsharpc"
        "fsharpi"
        "gh"
        "git"
        "glow"
        "godoc"
        "gradlew"
        "jj"
        "just"
        "komorebi"
        "kw"
        "less"
        "lftp"
        "loco"
        "make"
        "man"
        "mask"
        "md-to-clip"
        "mix"
        "mvn"
        "mysql"
        "nano"
        "nix"
        "npm"
        "op"
        "pass"
        "pdm"
        "pnpm"
        "podman"
        "poetry"
        "pre-commit"
        "pytest"
        "reflector"
        "rg"
        "rustup"
        "rye"
        "scoop"
        "ssh"
        "tar"
        "tcpdump"
        "toipe"
        "ttyper"
        "typst"
        "uv"
        "virsh"
        "vscode"
        "xgettext"
        "yarn"
        "zef"
        "zellij"
        "zoxide"
      ]
    ) ++ (map
      (x: "source ${nu_scripts}/custom-completions/auto-generate/completions/${x}.nu")
      [
        "abbr"
        "abook"
        "acat"
        "acpi"
        "adduser"
        "adiff"
        "alias"
        "als"
        "alsactl"
        "alsamixer"
        "alternatives"
        "amixer"
        "and"
        "animate"
        "ansible-galaxy"
        "ansible-playbook"
        "ansible-vault"
        "ansible"
        "apack"
        "apropos"
        "arepack"
        "arp"
        "asciidoctor"
        "at"
        "atd"
        "atom"
        "atool"
        "atq"
        "atrm"
        "attrib"
        "aunpack"
        "aura"
        "avifdec"
        "avifenc"
        "aws"
        "badblocks"
        "base64"
        "bb-wrapper"
        "bc"
        "bd"
        "begin"
        "bg"
        "bind"
        "bison"
        "black"
        "block"
        "bluetoothctl"
        "bootctl"
        "bosh"
        "break"
        "btrfs"
        "builtin"
        "bundle"
        "bunzip2"
        "busctl"
        "bzcat"
        "bzip2"
        "bzr"
        "caddy"
        "caffeinate"
        "camcontrol"
        "cancel"
        "canto"
        "castnow"
        "cd"
        "cdh"
        "cdrecord"
        "cf"
        "choice"
        "chronyc"
        "chsh"
        "cjxl"
        "clasp"
        "clean"
        "cleanmgr"
        "climate"
        "cmark"
        "cmd"
        "cmdkey"
        "code"
        "colordiff"
        "colorsvn"
        "combine"
        "command"
        "commandline"
        "comp"
        "compare"
        "complete"
        "composer"
        "composite"
        "conda"
        "configure"
        "conjure"
        "connmanctl"
        "continue"
        "convert"
        "coredumpctl"
        "cowsay"
        "cowthink"
        "cpupower"
        "create_ap"
        "createdb"
        "cryptsetup"
        "csc"
        "csi"
        "cupsdisable"
        "cupsenable"
        "cvs"
        "cwebp"
        "cygpath"
        "cygport"
        "cygstart"
        "darcs"
        "dart"
        "date"
        "dconf"
        "dd"
        "defaults"
        "dhclient"
        "dhcpcd"
        "diff"
        "dig"
        "diskutil"
        "display"
        "djxl"
        "dlocate"
        "dm-tool"
        "dmesg"
        "dnf"
        "doas"
        "dotnet"
        "downgrade"
        "dpkg-reconfigure"
        "dpkg"
        "dropdb"
        "dscacheutil"
        "du"
        "dumpcap"
        "dvipdfm"
        "ebuild"
        "echo"
        "egrep"
        "eix-sync"
        "eix"
        "elatex"
        "elixir"
        "elvish"
        "emacs"
        "emaint"
        "emerge"
        "encfs"
        "entr"
        "eopkg"
        "epkginfo"
        "equery"
        "etex"
        "ethtool"
        "eval"
        "evince"
        "exec"
        "exercism"
        "exit"
        "expand"
        "fab"
        "fastboot"
        "feh"
        "ffmpeg"
        "ffplay"
        "ffprobe"
        "fg"
        "fgrep"
        "figlet"
        "file"
        "find"
        "firewall-cmd"
        "fish"
        "fish_add_path"
        "fish_indent"
        "fish_key_reader"
        "flac"
        "flatpak"
        "fluxbox-remote"
        "for"
        "forfiles"
        "fossil"
        "funced"
        "funcsave"
        "function"
        "functions"
        "fuser"
        "fusermount"
        "fzf"
        "g++"
        "gacutil"
        "gapplication"
        "gcc"
        "gdb"
        "gdbus"
        "gem"
        "gendarme"
        "gio"
        "git-sizer"
        "gitk"
        "gnome-extensions"
        "go"
        "gofmt"
        "goimports"
        "golint"
        "gorename"
        "gpasswd"
        "gphoto2"
        "gping"
        "gprof"
        "grep"
        "gresource"
        "groupadd"
        "groups"
        "grub-file"
        "grub-install"
        "grub-mkrescue"
        "grunt"
        "gsettings"
        "gunzip"
        "gv"
        "gvim"
        "gvimdiff"
        "gzip"
        "hashcat"
        "heroku"
        "hg"
        "hikari"
        "history"
        "hjson"
        "hledger"
        "homectl"
        "hostnamectl"
        "htop"
        "hugo"
        "hwinfo"
        "i3-msg"
        "icdiff"
        "iconv"
        "identify"
        "iex"
        "if"
        "ifdata"
        "ifdown"
        "ifup"
        "ikdasm"
        "ilasm"
        "import"
        "imv"
        "invoke-rc.d"
        "ip"
        "irb"
        "iw"
        "jbake"
        "jest"
        "jhipster"
        "jobs"
        "john"
        "journalctl"
        "jq"
        "julia"
        "k3d"
        "kak"
        "kcmshell5"
        "kdeconnect-cli"
        "keepassxc-cli"
        "keybase"
        "kill"
        "killall"
        "kitchen"
        "kldload"
        "kldunload"
        "latex"
        "latexmk"
        "ldapsearch"
        "lein"
        "light"
        "lightdm"
        "ln"
        "localectl"
        "locate"
        "loginctl"
        "logkeys"
        "losetup"
        "lp"
        "lpadmin"
        "lpinfo"
        "lpoptions"
        "lppasswd"
        "lpq"
        "lpr"
        "lpstat"
        "ls"
        "lsblk"
        "lscpu"
        "lsof"
        "lsusb"
        "lua"
        "lualatex"
        "lunchy"
        "lxpanel"
        "lz4"
        "lz4c"
        "lz4cat"
        "m4"
        "machinectl"
        "make"
        "makedepend"
        "makensis"
        "makepkg"
        "man"
        "mariner"
        "matlab"
        "mc"
        "md5sum"
        "mdadm"
        "mdbook"
        "mddiagnose"
        "mdimport"
        "mdls"
        "mdutil"
        "meson"
        "micro"
        "minikube"
        "mkbundle"
        "mkdocs"
        "mkdosfs"
        "mkfs.fat"
        "mkfs.vfat"
        "mkinitcpio"
        "mkpasswd"
        "mkvextract"
        "mocha"
        "mocp"
        "modinfo"
        "modprobe"
        "mogrify"
        "mono"
        "monodis"
        "monop"
        "montage"
        "mosh"
        "mount"
        "mpc"
        "mplayer"
        "mpv"
        "msfconsole"
        "msfdb"
        "msfvenom"
        "msgfmt"
        "mtr"
        "mupdf"
        "mutt"
        "mvn"
        "namei"
        "native2ascii"
        "ncat"
        "ncdu"
        "netctl-auto"
        "netctl"
        "networkctl"
        "nextd"
        "ng"
        "ngrok"
        "nice"
        "ninja"
        "nl"
        "nm"
        "nmap"
        "nmcli"
        "node"
        "nodeenv"
        "not"
        "npm"
        "nvim"
        "nvram"
        "objdump"
        "obnam"
        "octave"
        "oggenc"
        "omega"
        "opam"
        "openocd"
        "opkg"
        "optimus-manager"
        "or"
        "p4"
        "pacaur"
        "pacman-color"
        "pacman-key"
        "pacman"
        "pacmatic"
        "pacmd"
        "pactl"
        "pactree"
        "pandoc"
        "patch"
        "patool"
        "pbget"
        "pdfelatex"
        "pdfetex"
        "pdflatex"
        "pdftex"
        "pdftotext"
        "perl"
        "pfctl"
        "pg_dump"
        "pg_dumpall"
        "pg_restore"
        "pgrep"
        "phpunit"
        "pidof"
        "pine"
        "ping"
        "pinky"
        "pkg-config"
        "pkg"
        "pkg_add"
        "pkg_delete"
        "pkgadd"
        "pkgfile"
        "pkgmk"
        "pkgrm"
        "plutil"
        "poff"
        "pon"
        "port"
        "portmaster"
        "ports"
        "poweroff"
        "powerpill"
        "prevd"
        "prt-get"
        "ps"
        "psql"
        "pstack"
        "psub"
        "pv"
        "pydf"
        "pyenv"
        "pygmentize"
        "python"
        "python2"
        "python3"
        "pzstd"
        "qubes-gpg-client"
        "quilt"
        "rakudo"
        "random"
        "ranger"
        "rbenv"
        "rc-service"
        "rc-status"
        "rcctl"
        "read"
        "readlink"
        "realpath"
        "rejmerge"
        "renice"
        "resolvectl"
        "return"
        "rfkill"
        "rgrep"
        "rmdir"
        "rmmod"
        "roswell"
        "rpm"
        "rst2html4"
        "rst2odt"
        "rst2pseudoxml"
        "rst2s5"
        "rst2xml"
        "rstpep2html"
        "rsync"
        "ruby-build"
        "ruby"
        "rustc"
        "s3cmd"
        "sass-convert"
        "sass"
        "sbcl"
        "sbt"
        "scanimage"
        "schtasks"
        "scons"
        "scp"
        "screen"
        "scrot"
        "scss"
        "service"
        "set"
        "set_color"
        "setfacl"
        "setsid"
        "setx"
        "setxkbmap"
        "sfdx"
        "sftp"
        "sha1sum"
        "sha224sum"
        "sha256sum"
        "sha384sum"
        "sha512sum"
        "signify"
        "sort"
        "source"
        "speedtest-cli"
        "speedtest"
        "sphinx-apidoc"
        "sphinx-autogen"
        "sphinx-build"
        "sphinx-quickstart"
        "sqlsharp"
        "src"
        "ssh"
        "sshfs"
        "stack"
        "status"
        "strace"
        "stream"
        "string"
        "su"
        "subl"
        "sudo"
        "sv"
        "svn"
        "sylpheed"
        "synclient"
        "sysbench"
        "systemctl"
        "systemd-analyze"
        "systemd-nspawn"
        "tee"
        "telnet"
        "termite"
        "terraform"
        "test"
        "tex"
        "tig"
        "time"
        "timedatectl"
        "timeout"
        "tmutil"
        "tmux"
        "tokei"
        "top"
        "topgrade"
        "totem"
        "tracepath"
        "traceroute"
        "transmission-remote"
        "trap"
        "travis"
        "tree"
        "tsc"
        "tshark"
        "ttx"
        "type"
        "udevadm"
        "udisksctl"
        "ulimit"
        "umount"
        "unexpand"
        "unlz4"
        "unzip"
        "unzstd"
        "update-eix-remote"
        "update-eix"
        "useradd"
        "userdbctl"
        "usermod"
        "vagrant"
        "vared"
        "vbc"
        "vim-addons"
        "vim"
        "vimdiff"
        "vips"
        "vmctl"
        "w"
        "wait"
        "wajig"
        "watch"
        "wesnoth"
        "wg-quick"
        "wget"
        "whatis"
        "while"
        "who"
        "wicd-cli"
        "wicd-client"
        "wicd-gtk"
        "windscribe"
        "wine"
        "wineboot"
        "winemaker"
        "wireshark"
        "wslpath"
        "wvdial"
        "xargs"
        "xbps-alternatives"
        "xbps-checkvers"
        "xbps-create"
        "xbps-dgraph"
        "xbps-digest"
        "xbps-fbulk"
        "xbps-fetch"
        "xbps-install"
        "xbps-pkgdb"
        "xbps-query"
        "xbps-reconfigure"
        "xbps-remove"
        "xbps-rindex"
        "xbps-uchroot"
        "xbps-uhelper"
        "xclip"
        "xdg-mime"
        "xelatex"
        "xinput"
        "xmms"
        "xpdf"
        "xprop"
        "xrandr"
        "xrdb"
        "xsel"
        "xsp"
        "xsv"
        "xterm"
        "xxh128sum"
        "xxh32sum"
        "xxh64sum"
        "xxhsum"
        "xz"
        "yaourt"
        "yarn"
        "yast2"
        "yum"
        "zcat"
        "zfs"
        "zip"
        "zopfli"
        "zopflipng"
        "zpaq"
        "zpool"
        "zstd"
        "zstdcat"
        "zstdgrep"
        "zstdless"
        "zstdmt"
        "zypper"
      ]
    )
  );
}
